<HTML>
<HEAD>
<meta charset="UTF-8">
<title>TCPClientSocket.bulkRead - sok</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">sok</a>&nbsp;/&nbsp;<a href="../index.html">Sok.Socket.TCP</a>&nbsp;/&nbsp;<a href="index.html">TCPClientSocket</a>&nbsp;/&nbsp;<a href="./bulk-read.html">bulkRead</a><br/>
<br/>
<h1>bulkRead</h1>
<a name="Sok.Socket.TCP.TCPClientSocket$bulkRead(Sok.Buffer.MultiplatformBuffer, kotlin.Function2((Sok.Buffer.MultiplatformBuffer, kotlin.Int, kotlin.Boolean)))"></a>
<code><span class="keyword">suspend</span> <span class="keyword">fun </span><span class="identifier">bulkRead</span><span class="symbol">(</span><span class="identifier" id="Sok.Socket.TCP.TCPClientSocket$bulkRead(Sok.Buffer.MultiplatformBuffer, kotlin.Function2((Sok.Buffer.MultiplatformBuffer, kotlin.Int, kotlin.Boolean)))/buffer">buffer</span><span class="symbol">:</span>&nbsp;<a href="../../-sok.-buffer/-multiplatform-buffer/index.html"><span class="identifier">MultiplatformBuffer</span></a><span class="symbol">, </span><span class="identifier" id="Sok.Socket.TCP.TCPClientSocket$bulkRead(Sok.Buffer.MultiplatformBuffer, kotlin.Function2((Sok.Buffer.MultiplatformBuffer, kotlin.Int, kotlin.Boolean)))/operation">operation</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">buffer</span><span class="symbol">:</span>&nbsp;<a href="../../-sok.-buffer/-multiplatform-buffer/index.html"><span class="identifier">MultiplatformBuffer</span></a><span class="symbol">,</span>&nbsp;<span class="identifier">read</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><span class="identifier">Long</span></a></code> <a href="https://github.com/SeekDaSky/Sok/tree/master/common/sok-common/src/Sok/Socket/TCP/TCPClientSocket.kt#L53">(source)</a>
<p><strong>Platform and version requirements:</strong> Common</p>
<br/>
<a name="Sok.Socket.TCP.TCPClientSocket$bulkRead(, kotlin.Function2((, kotlin.Int, kotlin.Boolean)))"></a>
<code><span class="keyword">suspend</span> <span class="keyword">actual</span> <span class="keyword">fun </span><span class="identifier">bulkRead</span><span class="symbol">(</span><span class="identifier" id="Sok.Socket.TCP.TCPClientSocket$bulkRead(, kotlin.Function2((, kotlin.Int, kotlin.Boolean)))/buffer">buffer</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="Sok.Socket.TCP.TCPClientSocket$bulkRead(, kotlin.Function2((, kotlin.Int, kotlin.Boolean)))/operation">operation</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">,</span>&nbsp;<span class="identifier">read</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html"><span class="identifier">Long</span></a></code> <a href="https://github.com/SeekDaSky/Sok/tree/master/jvm/sok-jvm/src/Sok/Socket/TCP/TCPClientSocket.kt#L158">(source)</a>
<p><strong>Platform and version requirements:</strong> JVM, JS, Native</p>
<p>Used to do efficient read-intensive loops, it will basically execute the operation each time there is data to be read
and avoid registrations/allocation between each iteration. The passed lambda must return true to continue the loop or
false to exit. The call will suspend as long as the loop is running.</p>
<p>THE OPERATION MUST NOT BE COMPUTATION INTENSIVE OR BLOCKING as the internal selector will call it synchronously and wait
for it to return before processing any other event. The buffer cursor will be reset between each iteration so you should
not use it between two iterations and must avoid leaking it to exterior coroutines/threads. each iteration will read
n bytes ( 0 &lt; n &lt;= buffer.limit ) and set the cursor to 0, the read parameter of the operation is the amount of data read.</p>
<h3>Parameters</h3>
<p><a name="buffer"></a>
<code>buffer</code> - buffer used to store the data read. the cursor will be reset after each iteration. The limit of the buffer remains
untouched so the developer can chose the amout of data to read.</p>
<p><a name="operation"></a>
<code>operation</code> - lambda called after each read event. The first argument will be the buffer and the second the amount of data read</p>
<p><strong>Return</strong><br/>
Total number of byte read</p>
</BODY>
</HTML>
